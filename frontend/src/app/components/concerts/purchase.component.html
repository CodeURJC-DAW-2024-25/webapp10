<div id="container-userPage">
    <div class="content-purchase-page d-flex align-items-center justify-content-center">
      <div class="row g-0 align-items-center h-100 w-75">
  
        <div class="col-md-4 d-flex flex-column align-items-center justify-content-center p-4">
          <img *ngIf="concert.concertImage"
               [src]="concertImage()"
               class="img-fluid rounded purchaseImage"
               [alt]="concert.concertName">
          <img *ngIf="!concert.concertImage"
               src="/assets/images/Concerts/noImage.jpg"
               class="img-fluid rounded purchaseImage"
               alt="No Image Available">
          <h2 class="mt-3 text-center">{{ concert.concertName }}</h2>
          <p class="text-center">{{ concert.concertDate }}</p>
        </div>
  
        <div class="col-md-8 d-flex flex-column align-items-center justify-content-center p-4">
          <h4 class="text-center mb-3">Ticket Prices</h4>
          <p class="text-center">Stadium price: {{ concert.stadiumPrice }}</p>
          <p class="text-center">Track price: {{ concert.trackPrice }}</p>
  
          <form class="w-100" (ngSubmit)="purchaseTickets()" #purchaseForm="ngForm">
            <div class="mb-3">
              <label for="ticketType">Ticket Type:</label>
              <select id="ticketType" name="ticketType" class="form-select" [(ngModel)]="ticket.ticketType">
                <option value="stadiumStand" class="text-dark">Stadium stand</option>
                <option value="concertTrack" class="text-dark">Concert track</option>
              </select>
            </div>
  
            <div class="mb-3">
              <label for="numTickets">Number of tickets:</label>
              <input type="number" class="form-control"
                     name="numTickets"
                     id="numTickets"
                     min="1" max="10"
                     [(ngModel)]="ticket.numTickets">
            </div>
  
            <div class="d-flex align-items-center justify-content-between">
              <a (click)="goBack()" class="btn btn-primary">
                <i class="bi bi-reply-all-fill"></i> Go Back
              </a>

              <button class="btn btn-success" type="submit">
                <i class="bi bi-cart-fill"></i> Purchase Tickets
              </button>
  
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <ng-template #messageErrorModal let-modal>
    <div class="modal-header bg-danger text-white">
        <h4 class="modal-title">Message Error</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
    </div>
    <div class="modal-body">
        <p>{{messageError}}</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-secondary" (click)="modal.close()">Close</button>
    </div>
  </ng-template>
